<div *ngIf="inputShowBreadcrumbs" class="terra-breadcrumbs-wrapper main-breadcrumbs">
    <ul class="terra-breadcrumbs breadcrumbs-overflow-auto">
        <ng-template ngFor let-module [ngForOf]="_modules" let-index="index" let-last="last">
            <li class="module{{index}} terra-breadcrumb-container"
                #breadcrumbContainer
                *ngIf="!_isNullOrUndefined(module.currentSelectedView.url) && this.inputHasRouting; else falsyTemplate"
                [routerLink]="componentRoute + module.currentSelectedView.url">
                <div class="{{ module.identifier }} terra-breadcrumb-wrapper">
                    <a class="terra-breadcrumb"
                       [tcTooltip]="module.currentSelectedView.name"
                       [onlyEllipsisTooltip]="true"
                       [ngClass]="{'active': inputConfig.currentSelectedView === module.currentSelectedView}">
                        {{module.currentSelectedView.name}}
                    </a>
                    <a class="icon-caret" *ngIf="module.views.length > 1"
                       (mouseenter)="_calculatePosition(breadcrumbContainer, contextMenu)">
                        <ul class="context-menu" [ngStyle]="{'left': _mouseLeft}" #contextMenu>
                            <ng-template ngFor let-view [ngForOf]="module.views" let-i="index">
                                <li [routerLink]="componentRoute + view.url">
                                    <a class="{{ view.mainComponentName + '_' + i }} ">
                                        {{ view.name }}
                                        <span class="right-icon icon-cancel" (click)="_removeView(view,$event)"></span>
                                    </a>
                                </li>
                            </ng-template>
                        </ul>
                    </a>
                </div>
            </li>
            <ng-template #falsyTemplate>
                <li class="module{{index}} terra-breadcrumb-container"
                    (click)="handleBreadCrumbClick(module.currentSelectedView, $event)"
                    #noRoutingBcContainer>
                    <div class="{{ module.identifier }} terra-breadcrumb-wrapper">
                        <a class="terra-breadcrumb"
                           [ngClass]="{'active': inputConfig.currentSelectedView === module.currentSelectedView}">
                            {{module.currentSelectedView.name}}
                        </a>
                        <a class="icon-caret" *ngIf="module.views.length > 1"
                           (mouseenter)="_calculatePosition(noRoutingBcContainer, noRoutingContextMenu)">
                            <ul class="context-menu" [ngStyle]="{'left': _mouseLeft}" #noRoutingContextMenu>
                                <ng-template ngFor let-view [ngForOf]="module.views" let-i="index">
                                    <li>
                                        <a class="{{ view.mainComponentName + '_' + i }} "
                                           (click)="handleBreadCrumbClick(view, $event)">
                                            {{ view.name }}
                                            <span class="right-icon icon-cancel" (click)="_removeView(view,$event)"></span>
                                        </a>
                                    </li>
                                </ng-template>
                            </ul>
                        </a>
                    </div>
                </li>
            </ng-template>
            <li class="terra-breadcrumb-container" *ngIf="!last">
                <a class="terra-breadcrumb icon-next"></a>
            </li>
        </ng-template>
    </ul>
</div>
<div *ngIf="_modules" class="side-scroller" [ngClass]="{'offset': inputShowBreadcrumbs}">
    <ng-template ngFor let-module [ngForOf]="_modules" let-last="last" let-first="first" let-index="index">
        <div class="view {{ module.width }}" id="splitview{{_splitViewId}}_module{{index}}"
             [ngClass]="{'first': first, 'last': last}">
            <ng-template ngFor let-view [ngForOf]="module.views" let-i="index">
                <div *ngIf="module.currentSelectedView === view" class="{{ view.mainComponentName + '_' + i}} fadeIn">
                    <terra-dynamic-module-loader
                        [inputModule]="view.module"
                        [inputInputs]="view.inputs"
                        [inputView]="view"
                        [inputMainComponentName]="view.mainComponentName">
                    </terra-dynamic-module-loader>
                </div>
            </ng-template>
        </div>
    </ng-template>
</div>
