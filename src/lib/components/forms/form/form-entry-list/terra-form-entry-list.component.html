<div [formGroup]="inputFormGroup">
    <div class="form-list clearfix" [formArrayName]="inputFormFieldKey">
        <div
            class="form-list-entry"
            *ngFor="let control of formArray?.controls; index as i; let first = first; let last = last"
        >
            <div class="form-list-sort">
                <terra-button
                    [inputIcon]="'icon-collapse_up'"
                    [inputIsDisabled]="first"
                    (outputClicked)="_moveElement(i, -1)"
                >
                </terra-button>
                <terra-button
                    [inputIcon]="'icon-collapse_down'"
                    [inputIsDisabled]="last"
                    (outputClicked)="_moveElement(i, 1)"
                >
                </terra-button>
            </div>
            <ng-container [ngSwitch]="!!inputFormField.children">
                <terra-form-entry
                    *ngSwitchCase="false"
                    [formControlName]="i"
                    [inputFormControl]="control"
                    [inputFormField]="inputFormField"
                    [inputControlTypeMap]="inputControlTypeMap"
                    [inputIsDisabled]="inputIsDisabled"
                >
                </terra-form-entry>
                <ng-container *ngSwitchCase="true">
                    <ng-container
                        *ngTemplateOutlet="
                            containerTemplate;
                            context: {
                                $implicit: inputFormField,
                                control: control,
                                scope: _childScopes[i],
                                controlTypeMap: inputControlTypeMap,
                                disabled: inputIsDisabled,
                                width: width
                            }
                        "
                    ></ng-container>
                </ng-container>
            </ng-container>

            <terra-button
                [inputIcon]="'icon-delete'"
                [inputTooltipText]="'terraDynamicForm.removeListEntry' | translate: _locale.language"
                [inputIsDisabled]="!_canRemoveElement"
                (outputClicked)="_removeElement(i)"
            >
            </terra-button>
        </div>
        <terra-button
            [inputIcon]="'icon-add'"
            [inputTooltipText]="'terraDynamicForm.addListEntry' | translate: _locale.language"
            [inputIsDisabled]="!_canAddElement"
            (outputClicked)="_addElement()"
        >
        </terra-button>
    </div>
</div>
