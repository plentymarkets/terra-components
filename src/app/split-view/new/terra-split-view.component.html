<terra-base-toolbar *ngIf="inputShowBreadcrumbs">
    <ul class="terra-breadcrumbs">
        <ng-template ngFor let-module [ngForOf]="modules">
            <li class="{{ module.identifier + '_' + module.currentSelectedView.instanceKey }}"
                (click)="updateViewport(module.identifier)">
                <div class="{{ module.identifier }}">
                    <span>{{module.currentSelectedView.name}}</span>
                    <a class="caret" *ngIf="module.views.length > 1">
                        <ul class="context-menu">
                            <ng-template ngFor let-view [ngForOf]="module.views" let-i="index">
                                <li>
                                    <a class="{{ view.mainComponentName + '_' + view.instanceKey }}"
                                       (click)="setSelectedView(view) && updateViewport(view.mainComponentName)">
                                        <span>{{ view.name }}</span>
                                    </a>
                                </li>
                            </ng-template>
                        </ul>
                    </a>
                </div>
            </li>
        </ng-template>
    </ul>
</terra-base-toolbar>
<div *ngIf="modules" class="side-scroller" [ngClass]="{'offset': inputShowBreadcrumbs}">
    <ng-template ngFor let-module [ngForOf]="modules" let-last="last" let-first="first">
        <div class="view {{ module.defaultWidth }}" id="{{ module.identifier }}" [ngClass]="{'hasDivider': !last, 'first': first, 'last': last}">
            <ng-template ngFor let-view [ngForOf]="module.views">
                <div class ="{{ view.mainComponentName + '_' + view.instanceKey }}"
                     (click)="setSelectedView(view)">
                <terra-dynamic-module-loader [inputModule]="view.module"
                                                 [inputParameter]="view.parameter"
                                                 [inputMainComponentName]="view.mainComponentName">
                    </terra-dynamic-module-loader>
                </div>
            </ng-template>
            <div class="divider" *ngIf="!last"></div>
        </div>
    </ng-template>
</div>
